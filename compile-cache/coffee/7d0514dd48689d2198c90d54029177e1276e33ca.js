(function() {
  describe("HighlightColumn", function() {
    var editor, editorElement, getLeftPosition, getWidth, highlight, workspaceElement, _ref;
    _ref = [], editor = _ref[0], editorElement = _ref[1], highlight = _ref[2], workspaceElement = _ref[3];
    getLeftPosition = function(element) {
      return parseInt(element.style.left);
    };
    getWidth = function(element) {
      return parseInt(element.style.width);
    };
    beforeEach(function() {
      workspaceElement = atom.views.getView(atom.workspace);
      workspaceElement.style.height = "400px";
      workspaceElement.style.width = "600px";
      jasmine.attachToDOM(workspaceElement);
      waitsForPromise(function() {
        return atom.packages.activatePackage('highlight-column');
      });
      waitsForPromise(function() {
        return atom.workspace.open('sample.js');
      });
      return runs(function() {
        editor = atom.workspace.getActiveTextEditor();
        editorElement = atom.views.getView(editor);
        return highlight = editorElement.rootElement.querySelector(".highlight-column");
      });
    });
    describe(".activate", function() {
      var getHighlights;
      getHighlights = function() {
        var highlights;
        highlights = [];
        atom.workspace.getTextEditors().forEach(function(editor) {
          highlight = atom.views.getView(editor).rootElement.querySelectorAll(".highlight-column");
          if (highlight) {
            return Array.prototype.push.apply(highlights, highlight);
          }
        });
        return highlights;
      };
      it("appends a highlight to all existing and new editors", function() {
        expect(atom.workspace.getPanes().length).toBe(1);
        expect(getHighlights().length).toBe(1);
        expect(getWidth(getHighlights()[0])).toBeGreaterThan(0);
        atom.workspace.getActivePane().splitRight({
          copyActiveItem: true
        });
        expect(atom.workspace.getPanes().length).toBe(2);
        expect(getHighlights().length).toBe(2);
        expect(getWidth(getHighlights()[0])).toBeGreaterThan(0);
        return expect(getWidth(getHighlights()[1])).toBeGreaterThan(0);
      });
      it("width of the highlight is right", function() {
        expect(getWidth(highlight)).toBeGreaterThan(0);
        return expect(highlight).toBeVisible();
      });
      return it("appends highlights to where cursors are", function() {
        editor.setText("abc");
        expect(editor.getCursors().length).toBe(1);
        expect(getHighlights().length).toBe(1);
        editor.addCursorAtScreenPosition([0, 1]);
        expect(editor.getCursors().length).toBe(2);
        expect(getHighlights().length).toBe(2);
        expect(getLeftPosition(getHighlights()[0])).toBeGreaterThan(0);
        return expect(getLeftPosition(getHighlights()[1])).toBeGreaterThan(0);
      });
    });
    describe("cursor moves", function() {
      return it("highlight moves", function() {
        editor.setText("abc");
        editor.moveToBeginningOfLine();
        expect(getLeftPosition(highlight)).toEqual(0);
        editor.moveRight();
        return expect(getLeftPosition(highlight)).toBeGreaterThan(0);
      });
    });
    return describe("fontsize changes", function() {
      return it("highlight width changes", function() {
        var fontSize, initial;
        initial = getWidth(highlight);
        expect(initial).toBeGreaterThan(0);
        fontSize = atom.config.get("editor.fontSize");
        atom.config.set("editor.fontSize", fontSize + 10);
        advanceClock(1);
        expect(getWidth(highlight)).toBeGreaterThan(initial);
        return expect(highlight).toBeVisible();
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2hvbWUvY2hhbXAvLmF0b20vcGFja2FnZXMvaGlnaGxpZ2h0LWNvbHVtbi9zcGVjL2hpZ2hsaWdodC1jb2x1bW4tc3BlYy5jb2ZmZWUiCiAgXSwKICAibmFtZXMiOiBbXSwKICAibWFwcGluZ3MiOiAiQUFBQTtBQUFBLEVBQUEsUUFBQSxDQUFTLGlCQUFULEVBQTRCLFNBQUEsR0FBQTtBQUMxQixRQUFBLG1GQUFBO0FBQUEsSUFBQSxPQUF1RCxFQUF2RCxFQUFDLGdCQUFELEVBQVMsdUJBQVQsRUFBd0IsbUJBQXhCLEVBQW1DLDBCQUFuQyxDQUFBO0FBQUEsSUFFQSxlQUFBLEdBQWtCLFNBQUMsT0FBRCxHQUFBO2FBQ2hCLFFBQUEsQ0FBUyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQXZCLEVBRGdCO0lBQUEsQ0FGbEIsQ0FBQTtBQUFBLElBS0EsUUFBQSxHQUFXLFNBQUMsT0FBRCxHQUFBO2FBQ1QsUUFBQSxDQUFTLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBdkIsRUFEUztJQUFBLENBTFgsQ0FBQTtBQUFBLElBUUEsVUFBQSxDQUFXLFNBQUEsR0FBQTtBQUNULE1BQUEsZ0JBQUEsR0FBbUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFYLENBQW1CLElBQUksQ0FBQyxTQUF4QixDQUFuQixDQUFBO0FBQUEsTUFDQSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsTUFBdkIsR0FBZ0MsT0FEaEMsQ0FBQTtBQUFBLE1BRUEsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEtBQXZCLEdBQStCLE9BRi9CLENBQUE7QUFBQSxNQUlBLE9BQU8sQ0FBQyxXQUFSLENBQW9CLGdCQUFwQixDQUpBLENBQUE7QUFBQSxNQU1BLGVBQUEsQ0FBZ0IsU0FBQSxHQUFBO2VBQ2QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFkLENBQThCLGtCQUE5QixFQURjO01BQUEsQ0FBaEIsQ0FOQSxDQUFBO0FBQUEsTUFTQSxl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

//# sourceURL=/home/champ/.atom/packages/highlight-column/spec/highlight-column-spec.coffee
