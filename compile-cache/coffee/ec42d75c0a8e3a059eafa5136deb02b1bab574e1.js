(function() {
  var ResultItemView, ResultModel;

  ResultItemView = require('../views/result-item-view');

  module.exports = ResultModel = (function() {
    function ResultModel(response, keyword) {
      this.keyword = typeof keyword !== 'undefined' ? keyword : false;
      this.processResultString(response);
    }

    ResultModel.prototype.processResultString = function(response) {
      var data, regex;
      this.resultString = response;
      data = response.split(" ", 3);
      data.push(response.replace(data.join(" ") + " ", ""));
      this.fileName = data[0];
      this.functionName = data[1];
      this.lineNumber = parseInt(data[2]);
      this.lineText = data[3];
      this.isJustFile = data[3].trim() === '<unknown>';
      regex = new RegExp(this.keyword, 'g');
      if (this.isJustFile) {
        this.htmlFileName = this.fileName.replace(regex, '<span class="text-highlight bold">\$&</span>');
      }
      if (this.keyword) {
        this.htmlLineText = data[3].replace(/</g, '&lt;');
        this.htmlLineText = this.htmlLineText.replace(/>/g, '&gt;');
        return this.htmlLineText = this.htmlLineText.replace(regex, '<span class="text-highlight bold">\$&</span>');
      }
    };

    ResultModel.prototype.generateView = function() {
      return ResultItemView.setup(this);
    };

    return ResultModel;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2hvbWUvY2hhbXAvLmF0b20vcGFja2FnZXMvYXRvbS1jc2NvcGUvbGliL21vZGVscy9yZXN1bHQtbW9kZWwuY29mZmVlIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLDJCQUFBOztBQUFBLEVBQUEsY0FBQSxHQUFpQixPQUFBLENBQVEsMkJBQVIsQ0FBakIsQ0FBQTs7QUFBQSxFQUVBLE1BQU0sQ0FBQyxPQUFQLEdBQ1E7QUFDUyxJQUFBLHFCQUFDLFFBQUQsRUFBVyxPQUFYLEdBQUE7QUFDWCxNQUFBLElBQUMsQ0FBQSxPQUFELEdBQWMsTUFBQSxDQUFBLE9BQUEsS0FBa0IsV0FBckIsR0FBc0MsT0FBdEMsR0FBbUQsS0FBOUQsQ0FBQTtBQUFBLE1BQ0EsSUFBQyxDQUFBLG1CQUFELENBQXFCLFFBQXJCLENBREEsQ0FEVztJQUFBLENBQWI7O0FBQUEsMEJBSUEsbUJBQUEsR0FBcUIsU0FBQyxRQUFELEdBQUE7QUFDbkIsVUFBQSxXQUFBO0FBQUEsTUFBQSxJQUFDLENBQUEsWUFBRCxHQUFnQixRQUFoQixDQUFBO0FBQUEsTUFDQSxJQUFBLEdBQU8sUUFBUSxDQUFDLEtBQVQsQ0FBZSxHQUFmLEVBQW9CLENBQXBCLENBRFAsQ0FBQTtBQUFBLE1BRUEsSUFBSSxDQUFDLElBQUwsQ0FBVSxRQUFRLENBQUMsT0FBVCxDQUFpQixJQUFJLENBQUMsSUFBTCxDQUFVLEdBQVYsQ0FBQSxHQUFpQixHQUFsQyxFQUF1QyxFQUF2QyxDQUFWLENBRkEsQ0FBQTtBQUFBLE1BSUEsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFLLENBQUEsQ0FBQSxDQUpqQixDQUFBO0FBQUEsTUFLQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFLLENBQUEsQ0FBQSxDQUxyQixDQUFBO0FBQUEsTUFNQSxJQUFDLENBQUEsVUFBRCxHQUFjLFFBQUEsQ0FBUyxJQUFLLENBQUEsQ0FBQSxDQUFkLENBTmQsQ0FBQTtBQUFBLE1BT0EsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFLLENBQUEsQ0FBQSxDQVBqQixDQUFBO0FBQUEsTUFTQSxJQUFDLENBQUEsVUFBRCxHQUFjLElBQUssQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUFSLENBQUEsQ0FBQSxLQUFrQixXQVRoQyxDQUFBO0FBQUEsTUFVQSxLQUFBLEdBQVksSUFBQSxNQUFBLENBQU8sSUFBQyxDQUFBLE9BQVIsRUFBaUIsR0FBakIsQ0FWWixDQUFBO0FBWUEsTUFBQSxJQUFHLElBQUMsQ0FBQSxVQUFKO0FBQ0UsUUFBQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFDLENBQUEsUUFBUSxDQUFDLE9BQVYsQ0FBa0IsS0FBbEIsRUFBeUIsOENBQXpCLENBQWhCLENBREY7T0FaQTtBQWVBLE1BQUEsSUFBRyxJQUFDLENBQUEsT0FBSjtBQUNFLFFBQUEsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsSUFBSyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQVIsQ0FBZ0IsSUFBaEIsRUFBc0IsTUFBdEIsQ0FBaEIsQ0FBQTtBQUFBLFFBQ0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsSUFBQyxDQUFBLFlBQVksQ0FBQyxPQUFkLENBQXNCLElBQXRCLEVBQTRCLE1BQTVCLENBRGhCLENBQUE7ZUFFQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFDLENBQUEsWUFBWSxDQUFDLE9BQWQsQ0FBc0IsS0FBdEIsRUFBNkIsOENBQTdCLEVBSGxCO09BaEJtQjtJQUFBLENBSnJCLENBQUE7O0FBQUEsMEJBeUJBLFlBQUEsR0FBYyxTQUFBLEdBQUE7QUFDWixhQUFPLGNBQWMsQ0FBQyxLQUFmLENBQXFCLElBQXJCLENBQVAsQ0FEWTtJQUFBLENBekJkLENBQUE7O3VCQUFBOztNQUpKLENBQUE7QUFBQSIKfQ==

//# sourceURL=/home/champ/.atom/packages/atom-cscope/lib/models/result-model.coffee
